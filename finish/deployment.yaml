apiVersion: apps.openliberty.io/v1
kind: OpenLibertyApplication
metadata:
  name: open-liberty-instanton1
spec:
  applicationImage: 439159788015.dkr.ecr.eu-west-2.amazonaws.com/getting-started-instanton
  pullPolicy: IfNotPresent
  manageTLS: false
  replicas: 3
  resources:
    limits:
      cpu: 1
      memory: 512Mi
    requests:
      cpu: 500m
      memory: 256Mi
  service:
    type: ClusterIP
    port: 9080
  expose: true
  securityContext:
    runAsNonRoot: true
    privileged: false
    allowPrivilegeEscalation: true
    capabilities:
      add:
      - CHECKPOINT_RESTORE
      - SETPCAP
      drop:
      - ALL
  semeruCloudCompiler:
    enable: true
    replicas: 3

